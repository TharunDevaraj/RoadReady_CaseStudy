<div class="container col-md-5 mt-5">
  <h2 class="text-center text-danger">Check-In / Check-Out</h2>

  <form class="mt-5" (ngSubmit)="verifyReservation()" *ngIf="!verified">
    <div class="mb-3">
      <label for="reservationId" class="form-label">Reservation ID</label>
      <input type="number" id="reservationId" class="form-control" [(ngModel)]="reservationId" name="reservationId" required>
    </div>

    <div class="mb-3">
      <label for="customerId" class="form-label">Customer ID</label>
      <input type="number" id="customerId" class="form-control" [(ngModel)]="customerId" name="customerId" required>
    </div>

    <div class="d-flex justify-content-center">
      <button class="btn btn-primary" type="submit">Verify</button>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger mt-2 text-center">{{ errorMessage }}</div>
  </form>

  <div *ngIf="verified" class="text-center mt-4">
    <h3 class="text-success fs-5 mt-3"> Reservation verified!</h3>
    <!-- Show reservation details -->
    <div class="card mt-4 text-start mx-auto" style="max-width: 500px;">
      <div class="card-body">
        <h5 class="card-title text-center">Reservation Details</h5>
        <p><strong>Customer Name:</strong> {{ reservation.customerName || 'Loading...' }}</p>
        <p><strong>Car ID:</strong> {{ reservation.carId }}</p>
        <p><strong>Start Date:</strong> {{ reservation.startDate }}</p>
        <p><strong>End Date:</strong> {{ reservation.endDate }}</p>
        <p><strong>Status:</strong> {{ reservation.reservationStatus }}</p>
      </div>
    </div>

    <div class="d-flex justify-content-center  mt-5">
      <button class="btn btn-primary mr-5" (click)="checkIn()" [disabled]="checkedIn">Check-In</button>
      <button class="btn btn-warning" (click)="checkOut()" [disabled]="checkedOut">Check-Out</button>
    </div>

    <div *ngIf="actionMessage" class="mt-4 alert alert-success p-2 rounded">
      {{ actionMessage }}
    </div>
  </div>
</div>
